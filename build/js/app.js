function getAreas() {
!function e(t,r,o){function i(a,l){if(!r[a]){if(!t[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(n)return n(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(e){var r=t[a][1][e];return i(r||e)},c,c.exports,e,t,r,o)}return r[a].exports}for(var n="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,r){"use strict";function o(){return $.getJSON("https://api.myjson.com/bins/a90g1").done(function(e){var t=e,r=!0,o=!1,a=void 0;try{for(var l,s=t[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var f=l.value;n.push({id:f.id,name:f.name,loc:f.loc,info:f.info,coords:f.coords,fill:f.fill,img:f.img})}}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}i(n)}).fail(function(e){alert("Something went wrong! Unable to load data to show the areas list.")}),!1}function i(e){function t(){function t(e){var t="";v()>=500&&(t='<img src = "'+e.areaImg+'">');return'<div class="infoWindow"><p class="infoWindowHeading">'+e.areaName+"</p>\n            <p>"+e.areaInfo+"\n            "+t+"</p></div>"}this.googleErr=ko.observable(),this.searchTerm=ko.observable(),this.showItemList=ko.observable(!1),this.showResults=ko.observable(!0),this.myAreas=ko.observableArray([]),this.myPois=ko.observableArray([]),this.currentArea=ko.observable(),this.chosenArea=ko.observable(),this.fsqrFailText=ko.observable(),this.fsqrNoResult=ko.observable(""),this.showHideAreaList=ko.observable(!0),this.showForm=ko.observable(!0),this.infoText1=ko.observable("First..."),this.infoText2=ko.observable("Then..."),this.showAgainBtn=ko.observable(!1);var h=this,g=!0,b=!1,k=void 0;try{for(var A,x=e[Symbol.iterator]();!(g=(A=x.next()).done);g=!0){var L=A.value;h.myAreas.push(new T(L))}}catch(e){b=!0,k=e}finally{try{!g&&x.return&&x.return()}finally{if(b)throw k}}this.setPois=function(e){h.myPois().length=0;var t=!0,r=!1,o=void 0;try{for(var i,n=e[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var a=i.value;h.myPois.push(new w(a))}}catch(e){r=!0,o=e}finally{try{!t&&n.return&&n.return()}finally{if(r)throw o}}};var M=function(e){e.setAnimation(google.maps.Animation.BOUNCE),setTimeout(function(){e.setAnimation(null)},2100)};this.setMapOnAll=function(e){for(var t=0;t<c.length;t++)c[t].setMap(e)},this.removeMarkers=function(){h.setMapOnAll(null),c=[]},this.showAreaList=function(){h.showHideAreaList(!0)},this.hideFsqr=function(){h.showItemList(!1),h.showHideAreaList(!0),r.panTo(u),o.close(o)},this.itemListClick=function(e){h.showAgainBtn(!0),h.showForm(!1),h.infoText1("New search term?"),h.infoText2("New area?"),google.maps.event.trigger(e.myMarker,"click"),h.currentArea(h.myAreas()[e.areaId]),h.chosenArea(h.currentArea().areaName),s=h.currentArea(),f=h.searchTerm(),d.length=0;var t={lat:s.loc.lat,lng:s.loc.lng};if(r.panTo(t),""===f||void 0===f)return h.showItemList(!1),!1;h.showItemList(!0),v()<=800&&h.showHideAreaList(!1);var o="https://api.foursquare.com/v2/venues/search?client_id=XV45PHON55RFFRM3GNN1BODO2NWH45LCGBKPVQWLOKGUI4XA&client_secret=YVKQJGWU1G2TH1BGQXHULAGHOYDL443Z3HPQ0JBFCJWM4QPD&v=20130815&ll="+(s.loc.lat+","+s.loc.lng)+"&query="+f+"&intent=checkin&limit=5&radius=1000";return $.getJSON(o,function(t){function o(){h.removeMarkers();var t=!0,o=!1,n=void 0;try{for(var s,f=d[Symbol.iterator]();!(t=(s=f.next()).done);t=!0){var y=(e=s.value).id;p.lat=e.lat,p.lng=e.lng,C.push(e.name),S.push(e.address),I.push(e.phone),P.push(e.url),a=e.iconPre+"bg_32"+e.iconSuf,O=new google.maps.Marker({position:p,map:r,icon:a}),l=function(e){return'<div class="infowindow"><h3 class = "infoWindowHeading"> '+C[e]+"</h3>\n                            <p>"+S[e][0]+"\n                            "+S[e][1]+"\n                            "+S[e][2]+"\n                            "+I[e]+'\n                            <a title="This link will open in a new tab" href = " '+P[e]+' " target="_blank" >\n                            '+P[e]+"</a></p></div>"},google.maps.event.addListener(O,"click",function(e,t){var o=l(t);return function(){M(e),i.setContent(o),i.open(r,this)}}(O,y)),c.push(O)}}catch(e){o=!0,n=e}finally{try{!t&&f.return&&f.return()}finally{if(o)throw n}}h.fsqrListClick=function(e){var t=e.poiId,o=l(t);M(c[t]),i.setContent(o),i.open(r,c[t])}}var n=t.response.venues,s=-1,f=!0,y=!1,u=void 0;try{for(var m,v=n[Symbol.iterator]();!(f=(m=v.next()).done);f=!0){var g=m.value;s++,d.push({id:s,name:g.name,lat:g.location.lat,lng:g.location.lng,address:g.location.formattedAddress,phone:g.contact.formattedPhone,url:g.url,iconPre:g.categories[0].icon.prefix,iconSuf:g.categories[0].icon.suffix})}}catch(e){y=!0,u=e}finally{try{!f&&v.return&&v.return()}finally{if(y)throw u}}var b=function(e){0===e.length?(h.fsqrNoResult("Sorry, no results found!"),h.showResults(!1)):(h.fsqrNoResult(""),h.showResults(!0))};h.setPois(d),b(d);var T=!0,w=!1,k=void 0;try{for(var A,x=d[Symbol.iterator]();!(T=(A=x.next()).done);T=!0){var L=A.value;void 0===L.url&&(L.url=""),void 0===L.phone&&(L.phone="");for(var N=0;N<3;N++)void 0===L.address[N]&&(L.address[N]="")}}catch(e){w=!0,k=e}finally{try{!T&&x.return&&x.return()}finally{if(w)throw k}}var O=void 0,C=[],S=[],I=[],P=[];o(),h.setMapOnAll(r)}).fail(function(e){h.fsqrFailText("Sorry. Something has gone wrong. The Foursquare server could not be reached")}),!1};var N=void 0,O=[],C=!0,S=!1,I=void 0;try{for(var P,W=function(){var e=P.value;N=new google.maps.Polygon({paths:e.areaCoords,strokeColor:"black",strokeOpacity:.8,strokeWeight:.5,fillColor:e.fill,fillOpacity:.4,position:e.loc}),O.push(N),N.setMap(r);var i=new google.maps.Marker({position:e.loc,map:r,icon:y,animation:google.maps.Animation.DROP});m.push(i),e.myMarker=i,n.extend(i.position),i.addListener("click",function(n){M(i),r.panTo(i.position),o.setContent(t(e)),o.open(r,i)})},q=h.myAreas()[Symbol.iterator]();!(C=(P=q.next()).done);C=!0)W()}catch(e){S=!0,I=e}finally{try{!C&&q.return&&q.return()}finally{if(S)throw I}}r.addListener("click",function(){o.close(o)});var H=!0,F=!1,_=void 0;try{for(var B,R=O[Symbol.iterator]();!(H=(B=R.next()).done);H=!0){var D=B.value;google.maps.event.addListener(D,"click",function(){o.close(o)})}}catch(e){F=!0,_=e}finally{try{!H&&R.return&&R.return()}finally{if(F)throw _}}h.filter=ko.observable(""),this.areaList=ko.computed(function(){var e=this.filter().toLowerCase();return e?ko.utils.arrayFilter(this.myAreas(),function(t){return t.areaName.toLowerCase().indexOf(e)>=0?(t.myMarker.setVisible(!0),!0):(t.myMarker.setVisible(!1),!1)}):ko.utils.arrayFilter(h.myAreas(),function(e){return e.myMarker.setVisible(!0),!0})},this)}var r=void 0,o=void 0,i=void 0,n=void 0,a=void 0,l=void 0,s=void 0,f=void 0,c=[],y="img/pin.png",u={lat:52.535722,lng:13.414487},m=[],p={},d=[],h=function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)},v=function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:13;return h()<=400&&(e=12),e},b=[{featureType:"administrative.country",elementType:"geometry.fill",stylers:[{color:"#98b9c5"}]},{featureType:"administrative.province",elementType:"geometry.fill",stylers:[{color:"#98b9c5"}]},{featureType:"administrative.locality",elementType:"geometry.fill",stylers:[{color:"#98b9c5"}]},{featureType:"administrative.neighborhood",elementType:"geometry.fill",stylers:[{color:"#98b9c5"}]},{featureType:"administrative.land_parcel",elementType:"geometry.fill",stylers:[{color:"#98b9c5"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#9dbecb"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#96becd"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"poi.attraction",elementType:"geometry.fill",stylers:[{color:"#fff7dc"}]},{featureType:"poi.business",elementType:"geometry.fill",stylers:[{color:"#fff7dc"}]},{featureType:"poi.business",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"poi.government",elementType:"geometry.fill",stylers:[{color:"#fff7dc"}]},{featureType:"poi.medical",elementType:"geometry.fill",stylers:[{color:"#fff7dc"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#fff7dc"}]},{featureType:"poi.place_of_worship",elementType:"geometry.fill",stylers:[{color:"#ffc540"}]},{featureType:"poi.school",elementType:"geometry.fill",stylers:[{color:"#2d7488"}]},{featureType:"poi.sports_complex",elementType:"geometry.fill",stylers:[{color:"#9fdbea"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#7da4b3"},{saturation:"0"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#b5cfd9"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.stroke",stylers:[{visibility:"simplified"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#fbffcb"}]},{featureType:"transit.line",elementType:"geometry.fill",stylers:[{color:"#c9dbff"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#beddff"}]},{featureType:"transit.station.bus",elementType:"geometry.fill",stylers:[{color:"#c0dff4"}]},{featureType:"transit.station.rail",elementType:"geometry.fill",stylers:[{color:"#00708b"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#79b7cd"}]}];r=new google.maps.Map(document.getElementById("map"),{center:u,styles:b,zoom:g(),mapTypeControl:!1,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU}}),o=new google.maps.InfoWindow({maxWidth:100,content:""}),i=new google.maps.InfoWindow({maxWidth:150,content:""}),n=new google.maps.LatLngBounds,window.onresize=function(){r.fitBounds(n),r.panTo(u)};var T=function(e){this.areaId=e.id,this.areaName=e.name,this.loc=e.loc,this.areaInfo=e.info,this.areaCoords=e.coords,this.fill=e.fill,this.areaImg=e.img,this.myMarker=""},w=function(e){this.poiId=e.id,this.poiName=e.name,this.lat=e.lat,this.lng=e.lng};ko.applyBindings(new t)}var n=[];o()},{}]},{},[1]);}